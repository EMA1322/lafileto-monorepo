/* ==========================================================================
   components.css — Librería UI (botones, formularios, tarjetas, badges, nav)
   - TODOS los colores/espacios/radios salen de tokens.
   - Sin valores mágicos de color. Solo variables.
   ========================================================================== */

@layer components {

  /* ——— Botones ——— */
  .btn {
    --btn-bg: var(--c-neutral-200);
    --btn-color: var(--c-text);
    --btn-border: var(--c-border);

    display: inline-flex; align-items: center; justify-content: center;
    gap: .5rem;
    padding: .5rem .9rem;
    border-radius: var(--radius-md);
    border: 1px solid var(--btn-border);
    background: var(--btn-bg);
    color: var(--btn-color);
    box-shadow: var(--shadow-sm);
    cursor: pointer;
    transition: background .2s ease, color .2s ease, border-color .2s ease, box-shadow .2s ease, transform .02s ease;
  }
  .btn:hover { filter: brightness(0.98); }
  .btn:active { transform: translateY(1px); }
  .btn:focus-visible {
    outline: none;
    box-shadow: 0 0 0 var(--ring-width) var(--ring-color);
  }
  .btn[disabled], .btn:disabled {
    opacity: .6; cursor: not-allowed; box-shadow: none;
  }

  .btn--primary {
    --btn-bg: var(--c-primary);
    --btn-color: var(--c-on-primary);
    --btn-border: color-mix(in srgb, var(--c-primary), #000 18%);
  }
  .btn--secondary {
    --btn-bg: var(--c-secondary);
    --btn-color: #ffffff;
    --btn-border: color-mix(in srgb, var(--c-secondary), #000 18%);
  }
  .btn--outline {
    --btn-bg: transparent;
    --btn-color: var(--c-text);
    --btn-border: var(--c-border);
    background: transparent;
  }

  /* ——— Formularios ——— */
  .form-control {
    display: block; width: 100%;
    padding: .55rem .75rem;
    border: 1px solid var(--c-border);
    border-radius: var(--radius-md);
    background: var(--c-white);
    color: var(--c-text);
    box-shadow: none;
    transition: border-color .2s ease, box-shadow .2s ease;
  }
  .form-control::placeholder { color: var(--c-text-muted); }
  .form-control:focus {
    outline: none;
    border-color: var(--c-secondary);
    box-shadow: 0 0 0 var(--ring-width) var(--ring-color);
  }
  .form-control.is-invalid {
    border-color: var(--c-error);
    box-shadow: 0 0 0 var(--ring-width) rgba(220, 38, 38, .25);
  }
  .form-control.is-valid {
    border-color: var(--c-success);
    box-shadow: 0 0 0 var(--ring-width) rgba(22, 163, 74, .25);
  }
  .form-hint { color: var(--c-text-muted); font-size: .875rem; margin-top: .375rem; }
  .form-error { color: var(--c-error); font-size: .875rem; margin-top: .375rem; }
  .form-success { color: var(--c-success); font-size: .875rem; margin-top: .375rem; }

  select.form-control, textarea.form-control { min-height: 2.5rem; }

  /* ——— Modales ——— */
  .modal {
    position: fixed; inset: 0; z-index: 50;
    display: none; align-items: center; justify-content: center;
    background: rgba(0,0,0,.5);
    padding: var(--space-4);
  }
  .modal.is-open { display: flex; }
  .modal__dialog {
    width: 100%; max-width: 640px;
    background: var(--c-surface);
    color: var(--c-text);
    border: 1px solid var(--c-border);
    border-radius: var(--radius-lg);
    box-shadow: var(--shadow-lg);
    overflow: hidden;
  }
  .modal__header, .modal__footer { padding: var(--space-4); background: var(--c-surface-muted); }
  .modal__body { padding: var(--space-4); }
  .modal__title { font-size: var(--fs-h4); font-weight: var(--fw-semibold); }

  /* ——— Tarjetas ——— */
  .card {
    background: var(--c-surface);
    border: 1px solid var(--c-border);
    border-radius: var(--radius-lg);
    box-shadow: var(--shadow-sm);
  }
  .card__header, .card__body, .card__footer { padding: var(--space-4); }
  .card__header { border-bottom: 1px solid var(--c-border); }
  .card__footer { border-top: 1px solid var(--c-border); }

  /* ——— Badges ——— */
  .badge {
    display: inline-block;
    padding: .25rem .5rem;
    border-radius: var(--radius-full);
    font-size: .8125rem;
    line-height: 1;
    border: 1px solid transparent;
  }
  .badge--primary   { background: color-mix(in srgb, var(--c-primary), #fff 80%); color: var(--c-text); border-color: color-mix(in srgb, var(--c-primary), #000 12%); }
  .badge--success   { background: color-mix(in srgb, var(--c-success), #fff 85%); color: var(--c-text); border-color: color-mix(in srgb, var(--c-success), #000 12%); }
  .badge--warning   { background: color-mix(in srgb, var(--c-warning), #fff 85%); color: var(--c-text); border-color: color-mix(in srgb, var(--c-warning), #000 12%); }
  .badge--error     { background: color-mix(in srgb, var(--c-error),   #fff 85%); color: var(--c-text); border-color: color-mix(in srgb, var(--c-error),   #000 12%); }
  .badge--neutral   { background: var(--c-neutral-100); color: var(--c-text); border-color: var(--c-border); }

  /* ——— Navegación / Menús ——— */
  .nav {
    display: flex; gap: var(--space-3); flex-wrap: wrap;
    list-style: none; padding: 0; margin: 0;
  }
  .nav__link {
    display: inline-flex; align-items: center; gap: .5rem;
    padding: .4rem .75rem;
    border-radius: var(--radius-md);
    color: var(--c-text);
    text-decoration: none;
  }
  .nav__link:hover { background: var(--c-neutral-100); }
  .nav__link[aria-current="page"],
  .nav__link.is-active {
    background: color-mix(in srgb, var(--c-secondary), #fff 85%);
    color: #0b172a;
    box-shadow: inset 0 0 0 1px color-mix(in srgb, var(--c-secondary), #000 15%);
  }

  /* ——— Layout: contenedor principal ——— */
  .page {
    padding-block: var(--space-6);
    background: var(--c-bg);
  }
}
